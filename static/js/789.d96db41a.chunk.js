"use strict";(self.webpackChunkcra=self.webpackChunkcra||[]).push([[789],{4789:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(9439),a=n(4942),i=n(5671),u=n(3144),c=n(2791),d=function(){function e(){(0,i.Z)(this,e),this.mergeDataSet=void 0,this.mergeDataSet={}}return(0,u.Z)(e,[{key:"createFeildMergeData",value:function(e,t,n,r){return(0,a.Z)({},"idx-".concat(t),{s:t,e:t,section:[t],keys:[n],mergeIndex:r})}},{key:"findGroupKey",value:function(e,t){var n=this.mergeDataSet[e];return Object.keys(n).find((function(e){return n[e].section.at(-1)+1===t}))}},{key:"setMergeFieldData",value:function(e,t,n,r){var a=!1;if(this.mergeDataSet[e]){var i=!1,u=this.findGroupKey(e,n);u&&(i=!0),i&&u?(this.mergeDataSet[e][u].e=n,this.mergeDataSet[e][u].section.push(n),this.mergeDataSet[e][u].keys.push(t)):(a=!0,this.mergeDataSet[e]["idx-".concat(n)]=this.createFeildMergeData(e,n,t,r)["idx-".concat(n)])}else a=!0,this.mergeDataSet[e]=this.createFeildMergeData(e,n,t,r);return a}},{key:"setMergeData",value:function(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(this.mergeDataSet){var u=0;e.forEach((function(e,r){a.forEach((function(a,i){var c="".concat(a,"-").concat(e[a]);n.setMergeFieldData(c,e[t],r,u)&&0==i&&(u+=1)}))}))}}},{key:"render",value:function(e,t,n,r){var a=this.getCurRowMergeData(t,n),i=a.s,u=a.e,c=a.mergeIndex,d="index"===e?c:e;if(r)return r(d,{rowIdx:n,fieldKey:t});var o={children:d,props:{rowSpan:0}},s=n===i;return void 0===i||void 0===u||(n>u||n===i&&n===u)?o.props.rowSpan=1:s&&(o.props.rowSpan=u-i+1),o}},{key:"getCurRowMergeData",value:function(e,t){var n,r=(null===(n=this.mergeDataSet)||void 0===n?void 0:n[e])||{},a=Object.keys(r).find((function(e){var n,a;return null===r||void 0===r||null===(n=r[e])||void 0===n||null===(a=n.section)||void 0===a?void 0:a.includes(t)}));return r[a||""]||{}}}]),e}();var o=n(305),s=n(184),f=[{id:"id-1",name:"a",age:18},{id:"id-2",name:"a",age:19},{id:"id-3",name:"b",age:19},{id:"id-4",name:"a",age:18},{id:"id-7",name:"a",age:18}];function l(){var e=(0,c.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=function(){var e=(0,c.useRef)(null);return null===e.current&&(e.current=new d),e.current}(),u=[{title:"mergeIdx",render:function(e,t,n){return i.render("index","name-".concat(t.name),n)}},{title:"\u59d3\u540d",dataIndex:"name",render:function(e,t,n){return i.render(e,"name-".concat(t.name),n)}},{title:"\u5e74\u9f84",dataIndex:"age",render:function(e,t,n){return i.render(e,"age-".concat(t.age),n)}},{title:"index",render:function(e,t,n){return n+1}}];return(0,c.useEffect)((function(){a(f),i.setMergeData(f,"id","name","age")}),[]),(0,s.jsxs)("div",{children:["Dashboard",(0,s.jsx)(o.Z,{columns:u,dataSource:n,rowKey:"id",pagination:!1})]})}}}]);
//# sourceMappingURL=789.d96db41a.chunk.js.map