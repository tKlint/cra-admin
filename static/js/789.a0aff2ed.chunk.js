"use strict";(self.webpackChunkcra=self.webpackChunkcra||[]).push([[789],{4789:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(9439),a=t(4942),i=t(5671),u=t(3144),o=t(2791),c=function(){function e(){(0,i.Z)(this,e),this.mergeDataSet=void 0,this.mergeDataSet={}}return(0,u.Z)(e,[{key:"createFeildMergeData",value:function(e,n,t,r){return(0,a.Z)({},"idx-".concat(n),{s:n,e:n,section:[n],keys:[t],mergeIndex:r})}},{key:"findGroupKey",value:function(e,n){var t=this.mergeDataSet[e];return Object.keys(t).find((function(e){return t[e].section.at(-1)+1===n}))}},{key:"setMergeFieldData",value:function(e,n,t,r){var a=!1;if(this.mergeDataSet[e]){var i=!1,u=this.findGroupKey(e,t);u&&(i=!0),i&&u?(this.mergeDataSet[e][u].e=t,this.mergeDataSet[e][u].section.push(t),this.mergeDataSet[e][u].keys.push(n)):(a=!0,this.mergeDataSet[e]["idx-".concat(t)]=this.createFeildMergeData(e,t,n,r)["idx-".concat(t)])}else a=!0,this.mergeDataSet[e]=this.createFeildMergeData(e,t,n,r);return a}},{key:"setMergeData",value:function(e,n){for(var t=this,r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(this.mergeDataSet){var u=0;e.forEach((function(e,r){a.forEach((function(a,i){var o="".concat(a,"-").concat(e[a]);t.setMergeFieldData(o,e[n],r,u)&&0==i&&(u+=1)}))}))}}},{key:"render",value:function(e,n,t,r){var a=this.getCurRowMergeData(n,t),i=a.s,u=a.e,o=a.mergeIndex,c="index"===e?o:e;if(r)return r(c,{rowIdx:t,fieldKey:n});var d={children:c,props:{rowSpan:0}},s=t===i;return void 0===i||void 0===u||(t>u||t===i&&t===u)?d.props.rowSpan=1:s&&(d.props.rowSpan=u-i+1),d}},{key:"getCurRowMergeData",value:function(e,n){var t,r=(null===(t=this.mergeDataSet)||void 0===t?void 0:t[e])||{},a=Object.keys(r).find((function(e){var t,a;return null===r||void 0===r||null===(t=r[e])||void 0===t||null===(a=t.section)||void 0===a?void 0:a.includes(n)}));return r[a||""]||{}}}]),e}();var d=t(7528),s=t(4017),l=t(184),g=[{id:"id-1",name:"a",age:18},{id:"id-2",name:"a",age:19},{id:"id-3",name:"b",age:19},{id:"id-4",name:"a",age:18},{id:"id-7",name:"a",age:18}];function f(){var e=(0,o.useState)([]),n=(0,r.Z)(e,2),t=n[0],a=n[1],i=function(){var e=(0,o.useRef)(null);return null===e.current&&(e.current=new c),e.current}(),u=[{title:"mergeIdx",render:function(e,n,t){return i.getCurRowMergeData("name-".concat(n.name),t).mergeIndex},onCell:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.render(null,"name-".concat(e.name),n).props}},{title:"\u59d3\u540d",dataIndex:"name",render:function(e){return(0,l.jsx)(d.Z,{children:e})},onCell:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.render(null,"name-".concat(e.name),n).props}},{title:"\u5e74\u9f84",dataIndex:"age",onCell:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.render(null,"age-".concat(e.age),n).props}},{title:"index",render:function(e,n,t){return t+1}}];return(0,o.useEffect)((function(){a(g),i.setMergeData(g,"id","name","age")}),[]),(0,l.jsxs)("div",{children:["Dashboard",(0,l.jsx)(s.Z,{columns:u,dataSource:t,rowKey:"id",pagination:!1})]})}}}]);
//# sourceMappingURL=789.a0aff2ed.chunk.js.map